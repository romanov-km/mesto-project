(()=>{"use strict";var e=function(e,t,n){var o=e.querySelector(".".concat(t.id,"-error"));t.classList.remove(n.inputErrorClass),o.classList.remove(n.errorClass),o.textContent=""},t=function(e,t,n){!function(e){return e.some((function(e){return!e.validity.valid}))}(e)?(t.disabled=!1,t.classList.remove(n.inactiveButtonClass)):(t.disabled=!0,t.classList.add(n.inactiveButtonClass))},n=function(t,n){t.querySelectorAll(n.inputSelector).forEach((function(o){e(t,o,n)}))},o=document.querySelector(".elements__list"),r=document.querySelector(".img-popup"),c=document.querySelector('#form-add-card input[name="url"]'),u=document.querySelector('#form-add-card input[name="name"]'),i=document.querySelector(".add-popup"),d=document.querySelector(".img-popup__image"),a=document.querySelector(".img-popup__title");function s(e){document.addEventListener("keydown",p),e.classList.add("popup_opened")}function l(e){document.addEventListener("keydown",p),e.classList.remove("popup_opened")}var p=function(e){"Escape"===e.key&&l(document.querySelector(".popup_opened"))};function m(e){var t=e.name,n=e.link,o=document.querySelector("#card").content.querySelector(".elements__item").cloneNode(!0),r=o.querySelector(".elements__button-delete"),c=o.querySelector(".elements__image");return r.addEventListener("click",_),c.src=n,c.alt=t,o.querySelector(".elements__title").textContent=t,o.querySelector(".elements__button-like").addEventListener("click",v),c.addEventListener("click",f),o}function _(e){e.target.closest("li").remove()}document.addEventListener("click",(function(e){l(e.target)}));var f=function(e){!function(e){d.src=e.target.src,d.alt=e.target.alt,a.textContent=e.target.alt}(e),s(r)},v=function(e){e.target.classList.toggle("elements__button-like_active")},y=document.querySelector(".profile-popup"),S=document.querySelector(".add-popup"),q=document.querySelector(".profile__edit-button"),k=document.querySelector(".popup__closed-button"),b=document.querySelector(".profile__add-button"),L=document.querySelector(".add-popup__closed-button"),g=document.querySelector("#form-edit-profile"),E=document.querySelector("#form-add-card"),C=document.querySelector(".img-popup__closed-button"),x=document.querySelector(".img-popup"),h=document.querySelector(".add-popup__submit"),B=document.querySelector('#form-edit-profile input[name="name"]'),j=document.querySelector('#form-edit-profile input[name="activity"]'),A=document.querySelector(".profile__name"),D=document.querySelector(".profile__activity");!function(n){Array.from(document.querySelectorAll(n.formSelector)).forEach((function(o){o.addEventListener("submit",(function(e){e.preventDefault()})),function(n,o){var r=Array.from(n.querySelectorAll(o.inputSelector)),c=n.querySelector(o.submitButtonSelector);t(r,c,o),r.forEach((function(u){u.addEventListener("input",(function(){!function(t,n,o){n.validity.patternMismatch?n.setCustomValidity(n.dataset.errorMessage):n.setCustomValidity(""),n.validity.valid?e(t,n,o):function(e,t,n,o){var r=e.querySelector(".".concat(t.id,"-error"));t.classList.add(o.inputErrorClass),r.textContent=n,r.classList.add(o.errorClass)}(t,n,n.validationMessage,o)}(n,u,o),t(r,c,o)}))}))}(o,n)}))}({formSelector:".add-popup__form",inputSelector:".add-popup__text-input",submitButtonSelector:".add-popup__submit",inactiveButtonClass:"add-popup__submit_inactive",inputErrorClass:"add-popup__text-input_type_error",errorClass:"add-popup__input-error_active"}),[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(e){o.append(m(e))})),q.addEventListener("click",(function(){s(y),B.value=A.textContent,j.value=D.textContent,n(g,M)})),k.addEventListener("click",(function(){l(y)})),b.addEventListener("click",(function(){s(S),E.reset(),function(e,t){e.disabled=!0,e.classList.add(t.inactiveButtonClass)}(h,M),n(E,M)})),L.addEventListener("click",(function(){l(S)})),g.addEventListener("submit",(function(e){e.preventDefault(),A.textContent=B.value,D.textContent=j.value,l(y)})),C.addEventListener("click",(function(){l(x)})),E.addEventListener("submit",(function(e){e.preventDefault();var t={name:u.value,link:c.value};o.prepend(m(t)),l(i)}));var M={formSelector:".add-popup__form",inputSelector:".add-popup__text-input",submitButtonSelector:".add-popup__submit",inactiveButtonClass:"add-popup__submit_inactive",inputErrorClass:"add-popup__text-input_type_error",errorClass:"add-popup__input-error_active"}})();